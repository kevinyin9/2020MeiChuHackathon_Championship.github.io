<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Home - Brand</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alfa+Slab+One">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Bungee+Shade">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Diplomata">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/fonts/fontawesome5-overrides.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hover.css/2.3.1/css/hover-min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/css/theme.bootstrap_4.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <link rel="stylesheet" href="assets/css/styles.min.css">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.18.0/dist/bootstrap-table.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
        .dropdown-menu li:hover .sub-menu{visibility: visible;}
        .dropdown:hover .dropdown-menu {display: block;}
        .checkbox {
            float: left;
            margin-right: 15px;
        }
    </style>
</head>

<body style="background: rgb(255,255,255);">
  <div id='navbar'>
    <script>
      $("#navbar").load("navbar.html");
    </script>
  </div>
    <header class="d-lg-flex masthead text-white text-center"
        style="background: url(&quot;assets/img/emotions-5153993_1920.png&quot;) top / cover no-repeat, #080000;">
        <div class="overlay" style="height: 304px;margin: 18px;background: rgba(33,37,41,0);"></div>
        <div class="container">
            <div class="row">
                <div class="col-xl-9 mx-auto" style="padding: 0px;margin: -93px;">
                    <h1 class="mb-5"
                        style="border-color: rgb(255,255,255);text-shadow: 3px 3px rgb(0,0,0);text-align: center;font-size: 99px;">
                        政策滿意度</h1>
                    <h3 class="subtitle"
                        style="height: 33px;margin: -33px;text-shadow: 2px 2px rgb(0,0,0);text-align: center;font-size: 30px;">
                        Policy Satisfaction</h3>
                </div>
            </div>
        </div>
    </header>
    <section>
      <div class="row d-lg-flex" style="height: 300px;">
          <div class="col">
              <div class="container">
                  <div class="row">
                      <div class="col-12">
          <iframe src="https://plotdb.io/v/chart/27155" width="100%" height="300px" allowfullscreen="true" frameborder="0"></iframe>
        </div>
    </div>
</div>
</div>
</div>
    </section>
    <section>
        <div class="row d-lg-flex" style="height: 700px;">
            <div class="col">
                <div class="container">
                    <div class="row">
                        <div class="col-12">

                            <table id="table" class="table-striped" data-toggle="table" data-height="700"
                                data-sortable="true" data-toolbar="#sortable" data-show-pagination-switch="true"
                                data-show-refresh="true" data-show-toggle="true" data-show-fullscreen="true"
                                data-show-columns="true" data-show-columns-toggle-all="true" data-id-field="id"
                                data-page-list="[10, 25, 50, 100, all]" data-show-footer="true" data-sort-name="name"
                                data-sort-order="desc" data-ajax="ajaxRequest" data-pagination-v-align="both"
                                data-server-sort="false" data-search="true" data-custom-search="customSearch"
                                data-pagination="true" data-show-multi-sort="true"
                                data-sort-priority='[{"sortName": "overall_reaction", "sortOrder":"desc"},
                                {"sortName": "comment_count", "sortOrder":"desc"},
                                {"sortName": "score", "sortOrder":"desc"}]' data-loading-template="loadingTemplate">

                                <thead class = "thead-dark">
                                    <tr>
                                        <th data-field="title">文章標題</th>
                                        <th data-field="comment_count" data-sortable="true">留言數</th>
                                        <th data-field="overall_reaction" data-sortable="true" data-formatter="reaction">整體心情</th>
                                        <th data-field="score" data-sortable="true">分數</th>
                                        <th data-field="date" data-sortable="true">文章發表日期</th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <footer class="footer bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 my-auto h-100 text-center text-lg-left">
                    <ul class="list-inline mb-2">
                        <li class="list-inline-item"><a href="#">About</a></li>
                        <li class="list-inline-item"><span>⋅</span></li>
                        <li class="list-inline-item"><a href="#">Contact</a></li>
                        <li class="list-inline-item"><span>⋅</span></li>
                        <li class="list-inline-item"><a href="#">Terms of &nbsp;Use</a></li>
                        <li class="list-inline-item"><span>⋅</span></li>
                        <li class="list-inline-item"><a href="#">Privacy Policy</a></li>
                    </ul>
                    <p class="text-muted small mb-4 mb-lg-0">© MeiPu. All Rights Reserved.</p>
                </div>
                <div class="col-lg-6 my-auto h-100 text-center text-lg-right">
                    <ul class="list-inline mb-0">
                        <li class="list-inline-item"><a href="#"></a></li>
                        <li class="list-inline-item"><a href="#"></a></li>
                        <li class="list-inline-item"><a href="#"></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.0/dist/bootstrap-table.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.0/dist/extensions/multiple-sort/bootstrap-table-multiple-sort.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/js/jquery.tablesorter.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/js/widgets/widget-filter.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/js/widgets/widget-storage.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/script.min.js"></script>
    <script src="https://use.fontawesome.com/31cba9b02f.js"></script>
    <script>
        var $table = $('#table')
        $(function () {
            $table.bootstrapTable()

            $('.toolbar input').change(function () {
                var classes = []
                $('.toolbar input:checked').map(function () {
                    classes.push($(this).next().text())
                })

                $table.bootstrapTable('refreshOptions', {
                    classes: classes.join(' ')
                })
            })
        })
    </script>
    <script>
        function reaction(value){
            let icon;
            if(value == "A"){
                icon = 'fa-smile-o'
            }else if(value == "B"){
                icon = 'fa-meh-o'
            }else{
                icon = 'fa-frown-o'
            }
            return '<i class="fa ' + icon + ' fa-4x"></i>'
        }
    </script>

    <script>
        $(function () {
            $('#table').bootstrapTable({
                formatSearch: function () {
                    return 'Search Item Price'
                }
            })
        })

        function customSearch(data, text) {
            return data.filter(function (row) {
                return row.title.indexOf(text) > -1
            })
        }
    </script>


    <script>
        function ajaxRequest(params) {
            var url = 'http://127.0.0.1:8887/hsinchu_生活.json'
            // var url = 'http://127.0.0.1:8887/csvjson.json'
            $.get(url + '?' + $.param(params.data)).then(function (res) {
                params.success(res)
            })
        }
    </script>


    <script>
        $(function () {
            $('#sortable').sortable({
                stop: function () {
                    $('#table').bootstrapTable('refreshOptions', {
                        buttonsOrder: $('#sortable').find('li').map(function () {
                            return $(this).text().trim()
                        })
                    })
                }
            })
        })
    </script>

    <script>
        function loadingTemplate(message) {
            return '<i class="fa fa-spinner fa-spin fa-fw fa-2x"></i>'
        }

        function rebuild() {
            $('#table').bootstrapTable('destroy')
                .bootstrapTable()
                .bootstrapTable('showLoading')
        }
    </script>
    <!--    <script>

    function jsonCallback(json){
      console.log(json);
    }
    $(function(){
    	$('#table').bootstrapTable({
    	ajax : function (request) {
            $.ajax({
                //type : "GET",
                url: "http://127.0.0.1:8887/username.csv",
                //dataType: "jsonp",
                jsonpCallback: "logResults",
                //url : "http://run.plnkr.co/plunks/v8xyYN64V4nqCshgjKms/data-2.json",
          		  //contentType: "application/json;charset=utf-8",
          			//dataType:"jsonp",
                //jsonpCallback: "logResults",
          			data:'',
          			//jsonp:'callback',
                success : function (msg) {
          				request.success({
                              row : msg
                          });
                  $('#table').bootstrapTable('load', msg);
                },
          			error:function(){
          				alert("错误");
    			      }
            });
    	}, toolbar:'#toolbar',
		singleSelect:true,
		clickToSelect:true,
		sortName: "create_time",
		sortOrder: "desc",
		pageSize: 15,
		pageNumber: 1,
		pageList: "[10, 25, 50, 100, All]",
		showToggle: true,
		showRefresh: true,
		showColumns: true,
		search: true,
		pagination: true,
		columns: [{
			field: "state",
			checkbox:true,
		},{
			field: 'scene_name',
			title: '推荐位名称',
			switchable: true
		}, {
			field: 'scene',
			title: '场景',
			switchable: true
		}, {
			field: 'creater',
			title: '创建者',
			switchable: true
		}, {
			field: 'create_time',
			title: '创建时间',
			switchable: true,
			sortable: true
		}, {
			field: 'managers',
			title: '授权账号',
			switchable: true
		}],

    });
  });
    </script> -->
</body>

</html>
